<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Asg2 - Nhi</title>
		<link
			href="https://fonts.googleapis.com/css2?family=Courier+Prime&display=swap"
			rel="stylesheet"
		/>
		<style>
			body {
				background-color: #652e37;
				text-align: center;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				min-height: 100vh;
				margin: 0;
				font-family: "Courier Prime", monospace;
				color: white;
			}

			#goodbye-text {
				font-size: 24px;
				margin-bottom: 10px;
				text-align: left; /* Ensures text alignment */
				align-self: flex-start; /* Aligns it to the left within the flex container */
			}

			#main-container {
				display: flex;
				align-items: center;
				justify-content: center;
				width: 100%;
			}

			#canvas-container {
				display: flex;
				justify-content: center;
				align-items: center;
			}

			canvas {
				display: block;
				border: 3px solid white;
			}

			#controls {
				display: flex;
				flex-direction: column;
				align-items: flex-start;
				margin-left: 20px;
				width: 20%;
			}

			button {
				background-color: #ffffff;
				border: none;
				padding: 10px;
				margin: 5px;
				font-size: 14px;
				cursor: pointer;
				font-family: "Courier Prime", monospace;
			}

			button:hover {
				background-color: #ddd;
			}

			p {
				margin: 5px 0;
			}

			input[type="range"] {
				width: 150px;
			}

			#special-animation-text {
				margin-top: 10px;
				font-size: 16px;
				text-align: left; /* Ensures text alignment */
				align-self: flex-start; /* Aligns it to the left within the flex container */
			}
			#transform-text {
				margin-top: 10px;
				font-size: 16px;
				text-align: left; /* Ensures text alignment */
				align-self: flex-start; /* Aligns it to the left within the flex container */
			}
			#instr-text {
				margin-top: 10px;
				font-size: 16px;
				text-align: left; /* Ensures text alignment */
				align-self: flex-start; /* Aligns it to the left within the flex container */
			}
		</style>
	</head>

	<body onload="main()">
		<div id="main-container">
			<!-- Canvas on the left -->
			<div id="canvas-container">
				<canvas id="webgl" width="800" height="800">
					Please use a browser that supports "canvas"
				</canvas>
			</div>

			<!-- Controls on the right -->
			<div id="controls">
				<h1 id="goodbye-text">GOODBYE,YEAR OF THE DRAGON!</h1>

				<button id="DragonAnimationOnButton">Animation ON</button>
				<button id="DragonAnimationOffButton">Animation OFF</button>
				<p id="instr-text">Drag mouse to rotate</p>

				<p id="special-animation-text">[Shift + Click] to Sneeze</p>
				<p id="transform-text">[Shift + T] to transform into Snake</p>

				<p>Camera X</p>
				<input type="range" id="cameraXSlide" min="-90" max="90" value="0" />

				<p>Camera Y</p>
				<input type="range" id="cameraYSlide" min="0" max="360" value="0" />
				<div
					id="fpsCounter"
					style="color: white; background: black; padding: 5px; font-size: 14px"
				>
					FPS: <span id="fpsValue">0</span>
				</div>
			</div>
		</div>

		<script src="../lib/webgl-utils.js"></script>
		<script src="../lib/webgl-debug.js"></script>
		<script src="../lib/cuon-utils.js"></script>
		<script src="../lib/cuon-matrix.js"></script>

		<script src="asg2.js"></script>
		<script src="Triangle.js"></script>
		<script src="Cube.js"></script>
		<script src="TrianglePrism.js"></script>
		<script src="Cone.js"></script>
		<script src="TruncatedCone.js"></script>
		<script>
			let isSnakeHTML = false;
			// Function to update title and instructions
			function updateMode() {
				const titleElement = document.getElementById("goodbye-text");
				const transformElement = document.getElementById("transform-text");
				const specialAnimationElement = document.getElementById(
					"special-animation-text"
				);
				if (titleElement) {
					if (isSnakeHTML) {
						titleElement.textContent = "HELLO, YEAR OF THE SNAKE!";
					} else {
						titleElement.textContent = "GOODBYE, YEAR OF THE DRAGON!";
					}
				}
				if (transformElement) {
					if (isSnakeHTML) {
						transformElement.textContent =
							"[Shift + T] to transform into Dragon";
					} else {
						transformElement.textContent =
							"[Shift + T] to transform into Snake";
					}
				}
				if (specialAnimationElement) {
					if (isSnakeHTML) {
						specialAnimationElement.textContent =
							"[Shift + Click] to Breathe Fire";
					} else {
						specialAnimationElement.textContent =
							"[Shift + Click] to Flick tongue";
					}
				}
			}

			// Event listener for Shift + S to toggle between modes
			document.addEventListener("keydown", (event) => {
				if (event.shiftKey && event.key.toLowerCase() === "t") {
					isSnakeHTML = !isSnakeHTML; // Toggle mode
					updateMode(); // Update the UI
				}
			});

			// Ensure the UI updates correctly when the page loads
			window.onload = function () {
				updateMode();
				main(); // Call the existing main function
			};
		</script>
	</body>
</html>
